<!DOCTYPE html>
<html>
<head>
    <title>A-Frame Primitive Robot Example</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.2.0/dist/aframe-extras.min.js"></script>

    <style>
        body { margin: 0; overflow: hidden; }
    </style>
</head>
<body>

    <script>
        AFRAME.registerComponent('robot-interact', {
            init: function () {
                var el = this.el; 
                var isRotating = false;

                el.addEventListener('click', function () {
                    isRotating = !isRotating;
                    console.log('Robot interaction toggled. Rotating:', isRotating);
                });

                this.tick = function (time, deltaTime) {
                    if (isRotating) {
                        var rotation = el.getAttribute('rotation');
                        rotation.y += deltaTime * 0.05; 
                        el.setAttribute('rotation', rotation);
                    }
                };
            }
        });
    </script>


    <a-scene
        renderer="logarithmicDepthBuffer: true; antialias: true;"> 

        <a-entity
            id="simple-robot"
            position="0 1.6 -3" 
            rotation="0 0 0" 
            scale="0.5 0.5 0.5"
            class="clickable" 
            robot-interact>

            <a-sphere 
                position="0 1.2 0" 
                radius="0.5" 
                color="#808080">
            </a-sphere>

            <a-box 
                position="0 0.5 0" 
                width="1.2" 
                height="1" 
                depth="0.6" 
                color="#00AEEF">
            </a-box>

            <a-cylinder 
                position="-0.9 0.5 0" 
                radius="0.2" 
                height="0.8" 
                color="#E53A40"
                rotation="0 0 90">
            </a-cylinder>

            <a-cylinder 
                position="0.9 0.5 0" 
                radius="0.2" 
                height="0.8" 
                color="#E53A40"
                rotation="0 0 90">
            </a-cylinder>

            <a-box 
                position="-0.3 -0.3 0" 
                width="0.5" 
                height="0.6" 
                depth="0.6" 
                color="#5CB85C">
            </a-box>

            <a-box 
                position="0.3 -0.3 0" 
                width="0.5" 
                height="0.6" 
                depth="0.6" 
                color="#5CB85C">
            </a-box>

        </a-entity>
        

        <a-entity light="type: ambient; color: #BBB; intensity: 0.8"></a-entity>
        <a-entity light="type: directional; color: #FFF; intensity: 0.6; castShadow: true" position="-1 2 1"></a-entity>

        <a-plane 
            position="0 0 0" 
            rotation="-90 0 0" 
            width="50" 
            height="50" 
            color="#CCCCCC" 
            shadow>
        </a-plane>

        <a-entity 
            camera 
            position="0 1.6 0" 
            wasd-controls="acceleration: 100; fly: false;" 
            movement-controls="speed: 0.2">
            
            <a-entity 
                cursor="rayOrigin: mouse" 
                raycaster="objects: .clickable;">
            </a-entity>
        </a-entity>

    </a-scene>

</body>
</html>